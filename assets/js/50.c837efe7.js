(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{469:function(s,n,a){"use strict";a.r(n);var t=a(0),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"_1-磁盘规划"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-磁盘规划"}},[s._v("#")]),s._v(" 1.磁盘规划")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.1识别硬盘")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lsblk ")]),s._v("\nNAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\nsr0          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":0    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 1024M  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" rom  \nvda         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("252")]),s._v(":0    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  100G  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" disk \n├─vda1      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("252")]),s._v(":1    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    1G  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part /boot\n└─vda2      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("252")]),s._v(":2    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   39G  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part \n  ├─cl-root "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("253")]),s._v(":0    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(".1G  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" lvm  /\n  └─cl-swap "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("253")]),s._v(":1    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".9G  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" lvm  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SWAP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  \n  \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.2分区规划并建立新分区 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fdisk  /dev/vda")]),s._v("\n.Command "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": \n  -----fdisk 常用交互指令：\n             m 列出指令帮助\n             p 查看现有的分区表（存放分区信息的表格）\n             n 新建分区\n             d 删除分区\n             q 放弃更改并退出\n             w 保存更改并退出\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#进入交互界面，先按n建立新分区然后一路回车，在按p查看分区情况，在按w保存退出")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.3刷新分区")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# partprobe /dev/vda")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.4再次查看硬盘信息，此刻多了个vda3")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lsblk ")]),s._v("\nNAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\nsr0          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":0    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 1024M  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" rom  \nvda         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("252")]),s._v(":0    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  100G  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" disk \n├─vda1      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("252")]),s._v(":1    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    1G  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part /boot\n├─vda2      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("252")]),s._v(":2    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   39G  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part \n│ ├─cl-root "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("253")]),s._v(":0    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(".1G  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" lvm  /\n│ └─cl-swap "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("253")]),s._v(":1    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".9G  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" lvm  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SWAP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n└─vda3      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("252")]),s._v(":3    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   60G  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part \n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1.5格式化新建分区")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkfs.xfs    /dev/vda3")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br")])]),n("h2",{attrs:{id:"_2-lvm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-lvm"}},[s._v("#")]),s._v(" 2.LVM")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.1使用lvm扩展卷组的空间")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vgextend  cl   /dev/vda3")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.2查看卷组信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vgs")]),s._v("\n  VG "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#PV #LV #SN Attr   VSize  VFree ")]),s._v("\n  cl   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" wz--n- "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),s._v(".99g "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(".00g\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.3扩展逻辑卷")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lvextend -l +100%FREE /dev/cl/root")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.4查看逻辑卷信息，确认是否拓展成功")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lvs")]),s._v("\n  LV   VG Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert\n  root cl -wi-ao---- "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v(".12g                                                    \n  swap cl -wi-ao----  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".88g   \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2.5刷新分区")]),s._v("\nxfs_growfs  /dev/cl/root\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);